// swift-tools-version: 6.0

import PackageDescription

let package = Package(
  name: "SPMGraphConfig",
  platforms: [
    .macOS(.v13)
  ],
  products: [
    .library(
      name: "SPMGraphDescription",
      type: .dynamic,
      targets: [
        "SPMGraphConfig"
      ]
    ),
  ],
  dependencies: [
    // TODO: Automate updating the revision based on the matching release
    .package(
      url: "https://github.com/getyourguide/spmgraph.git",
      exact: "0.0.8"
    ),
    // - Pinned to the the Swift 6.2 development / Xcode 16.3
    // It auto exports SwiftToolsSupport, so no need to directly depend it üôè
    .package(
      url: "https://github.com/apple/swift-package-manager",
      revision: "swift-6.2-RELEASE"
    ),
  ],
  targets: [
    .target(
      name: "SPMGraphConfig",
      dependencies: [
        .product(
          name: "SPMGraphDescriptionInterface",
          package: "spmgraph"
        ),
        .product(
          name: "SwiftPMDataModel",
          package: "swift-package-manager"
        )
      ]
    ),
  ]
)
