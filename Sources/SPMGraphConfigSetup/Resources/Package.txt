// swift-tools-version: 6.0

import PackageDescription

let package = Package(
  name: "SPMGraphConfig",
  platforms: [
    .macOS(.v13)
  ],
  products: [
    .library(
      name: "SPMGraphDescription",
      type: .dynamic,
      targets: [
        "SPMGraphConfig"
      ]
    ),
  ],
  dependencies: [
    // TODO: Change it to HTTP when made public
    // TODO: Automate updating the revision based on the matching release
    .package(
      url: "git@github.com:getyourguide/spmgraph.git",
      revision: "f70a8f6d35ac40e4875d1822c36ddc15e0ca27ab"
    ),
    // - Pinned to the the Swift 6.2 development / Xcode 16.3
    // It auto exports SwiftToolsSupport, so no need to directly depend it üôè
    .package(
      url: "https://github.com/apple/swift-package-manager",
      revision: "swift-6.2-RELEASE"
    ),
  ],
  targets: [
    .target(
      name: "SPMGraphConfig",
      dependencies: [
        .product(
          name: "SPMGraphDescriptionInterface",
          package: "spmgraph"
        ),
        .product(
          name: "SwiftPMDataModel",
          package: "swift-package-manager"
        )
      ]
    ),
  ]
)
