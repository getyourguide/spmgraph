// swift-tools-version: 6.0

import PackageDescription

let package = Package(
  name: "SPMGraphConfig",
  platforms: [
    .macOS(.v13)
  ],
  products: [
    .library(
      name: "SPMGraphDescription",
      type: .dynamic,
      targets: [
        "SPMGraphConfig"
      ]
    ),
  ],
  dependencies: [
    // TODO: Change it to HTTP when made public
    .package(
      url: "git@github.com:getyourguide/spmgraph.git",
      exact: "0.0.5"
    ),
    
    // TODO: Review which tag / Swift release to use
    // - Initially it may be strict and sometimes "enforce" specific Xcode/Swift toolchains
    // - For now pinned to the 6.0 release / Xcode 16.0
    //
    // It auto exports SwiftToolsSupport, so no need to directly depend on the former üôè
    .package(
      url: "https://github.com/apple/swift-package-manager",
      revision: "swift-6.0-RELEASE"
    ),
  ],
  targets: [
    .target(
      name: "SPMGraphConfig",
      dependencies: [
        .product(
          name: "SPMGraphDescriptionInterface",
          package: "spmgraph"
        ),
        .product(
          name: "SwiftPMDataModel",
          package: "swift-package-manager"
        )
      ]
    ),
  ]
)
